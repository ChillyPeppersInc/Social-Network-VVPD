<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: commonHead(~{::specific-head})}">
    <th:block th:fragment="specific-head">
        <link th:href="@{/css/index.css}" rel="stylesheet">
        <link th:href="@{/css/profile.css}" rel="stylesheet">
        <title>профиль</title>
    </th:block>
</head>

<body>
    <div th:insert="~{fragments/header :: header}"></div>

    <div class="profile-page animate__animated animate__fadeIn">
        <div class="profile-sidebar">
            <!-- <img th:src="${user.avatar} ?: @{/images/default-avatar.png}" class="profile-avatar"> -->
            <img th:src="@{/images/default-avatar.jpg}" class="profile-avatar">

            <h2 class="profile-name">
                <span th:text="${user.name}"></span>
                <span th:text="${user.surname}"></span>
            </h2>
            <p class="profile-username" th:text="'@' + ${user.username}"></p>
            <div class="profile-follows">
                <span class="follows-count">
                    <a th:href="@{/followers}" th:text="${user.followersCount} + ' подписчиков'" class="follow-link"></a>
                </span>
                 |
                <span class="follows-count">
                    <a th:href="@{/follows}" th:text="${user.followersCount} + ' подписок'" class="follow-link"></a>
                </span>
            </div>

            <div class="profile-info">
                <div class="info-item" th:if="${user.bio != null}">
                    <div class="info-icon">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="info-content">
                        <div class="info-label">О себе</div>
                        <div class="info-value" th:text="${user.bio}"></div>
                    </div>
                </div>

                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="info-content">
                        <div class="info-label">Группа</div>
                        <div class="info-value" th:text="${user.academicGroup}"></div>
                    </div>
                </div>

                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-birthday-cake"></i>
                    </div>
                    <div class="info-content">
                        <div class="info-label">Дата рождения</div>
                        <div class="info-value" th:text="${#temporals.format(user.birthdate, 'dd.MM.yyyy')}"></div>
                    </div>
                </div>
            </div>
        </div>


        <div class="comments-section" style="max-height: 632px; overflow-y: auto;">
            <h3 class="section-title">
                <span class="posts-title" onclick="showPosts()">
                    <i class="fas fa-bullhorn"></i> Публикации
                </span>
                <i style="padding-right: 15px"></i>
                <span class="comments-title" onclick="showComments()">
                    <i class="fas fa-comments"></i> Комментарии
                </span>
            </h3>

            <div class="posts">
                <div class="comment">
                    <img th:src="@{/images/kamil.jpg}" class="comment-avatar">
                    <div class="comment-content">
                        <div class="comment-header">
                            <span class="comment-author">Камиль Хуззятов</span>
                            <span class="comment-date">27.05.2025 в 22:20</span>
                        </div>
                        <p class="comment-text">Всем привет!!!</p>
                        <img th:src="@{/images/kamil.jpg}" style="max-width: 300px;">
                        <div class="comment-actions">
                            <span class="comment-action like-button" onclick="handleLike(this)"><i class="far fa-thumbs-up"></i> Нравится (<span class="like-count">0</span>)</span>
                        </div>
                    </div>
                </div>
            </div>



            <div class="comments">
                <div class="comment">
                    <img th:src="@{/images/anton.jpg}" class="comment-avatar">
                    <div class="comment-content">
                        <div class="comment-header">
                            <span class="comment-author">Антон Котельников</span>
                            <span class="comment-date">27.05.2025 в 22:20</span>
                        </div>
                        <p class="comment-text">привет</p>
                        <div class="comment-actions">
                            <span class="comment-action"><i class="fas fa-reply"></i> Ответить</span>
                            <span class="comment-action like-button" onclick="handleLike(this)"><i class="far fa-thumbs-up"></i> Нравится (<span class="like-count">0</span>)</span>
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>

    <script th:src="@{/js/profile.js}"></script>
</body>
</html>